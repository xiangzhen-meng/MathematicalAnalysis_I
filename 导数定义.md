# 导数定义

## 原版定义及其简单等价形式

### 原版定义

>[!note] 原版定义
>$$f'(x_{0})=\lim_{ x \to x_{0} } \frac{f(x)-f(x_{0})}{x-x_{0}}$$

### 等价形式 1

>[!note] 等价形式 1 
>$$f'(x_{0})=\lim_{ h \to 0 } \frac{f(x_{0}+h)-f(x_{0})}{h}$$

然而，如果改成了负号，就要反号，这是显然的
$$
\begin{align}
f'(x_{0})&=\lim_{ h \to 0 } \frac{f(x_{0}-h)-f(x_{0})}{-h} \\
&=-\lim_{ h \to 0 } \frac{f(x_{0}-h)-f(x_{0})}{h}
\end{align}
$$
### 等价形式 2

>[!note] 等价形式 2
>$$f'(x_{0})=\lim_{ h \to 0 } \frac{f(x_{0}+h)-f(x_{0}-h)}{2h}$$

这也是比较容易的形式，只需要添项去项即可
$$
\begin{align}
RHS&=\lim_{ h \to 0 } \frac{[f(x_{0}+h)-f(x_{0})]-[f(x_{0}-h)-f(x_{0})]}{2h} \\
&=\frac{1}{2}\lim_{ h \to 0 } \frac{[f(x_{0}+h)-f(x_{0})]}{h} + \frac{1}{2}\lim_{ h \to 0 } \frac{[f(x_{0}-h)-f(x_{0})]}{-h}  \\
&=\frac{1}{2}f'(x_{0})+\frac{1}{2}f'(x_{0})=f'(x_{0})
\end{align}
$$
## 例题

### 例题 1 用序列描述逼近行为

>[!question] 例题 1
>函数 $f(x)$ 在 $x=x_{0}$ 处可导，且序列 $\{a_n\}$、$\{b_n\}$ 满足$$a_n<x_{0}<b_n, \ \lim_{ n \to \infty } a_n=\lim_{ n \to \infty } b_n=x_{0}$$求证：$$\lim_{ n \to \infty } \frac{f(b_n)-f(a_n)}{b_n-a_n}=f'(x_{0})$$

本题主要是硬着头皮往下干，干出来算，干不出来垃圾吧倒的那种感觉

直觉上这是显然的，两个序列离得足够近，跟导数的感觉一致，但是跟导数的原版定义差了个 $f(x_{0})$，故尝试添项去项为其补全
$$
\begin{align}
\frac{f(b_n)-f(a_n)}{b_n-a_n}&= \frac{f(b_n)-f(x_{0})+f(x_{0})-f(a_n)}{b_n-a_n} \\
&=\frac{f(b_n)-f(x_{0})}{b_n-a_n} + \frac{f(x_{0})-f(a_n)}{b_n-a_n}
\end{align}
$$
而拆开的两项分母不一致，因此需要继续尝试补齐，尝试给他换个分母，得到：
$$
\begin{align}
RHS&=\frac{b_n}{b_n-a_n}\frac{f(b_n)-f(x_{0})}{b_n} + \frac{a_n}{b_n-a_n}\frac{f(x_{0})-f(a_n)}{b_n-a_n} \\
&=\lambda_n\frac{f(b_n)-f(x_{0})}{b_n}+(1-\lambda_n)\frac{f(a_{n})-f(x_{0})}{b_n-a_n}
\end{align}
$$
下面开始取极限，得到
$$
\begin{align}
RHS&=(\lim_{ n \to \infty } \lambda_n )f'(x_{0})+(\lim_{ n \to \infty } (1-\lambda_n))f'(x_{0}) \\
&= f'(x_{0})
\end{align}
$$
证毕

### 例题 2 类似于中学时代的 “递降” 方法

>[!question] 例题 2
>函数 $f(x)$ 在 $x=0$ 处连续，且有：$$\lim_{ x \to 0 } \frac{f(2x)-f(x)}{x}=A$$求证：$$\exists f'(0), \ 且 f'(0)=A$$

#### 错误的尝试

可能会依 例题 1 的方案硬干，尝试添项去项，得到：
$$
\begin{align}
\lim_{ x \to 0 } \frac{f(2x)-f(x)}{x}=\lim_{ x \to 0 } \frac{f(2x)-f(0)+f(0)-f(x)}{x}
\end{align}
$$
到他妈的这一步就发现了，极限里面的东西拆不开，因为没有证明 $x=0$ 点可导，也即没有证明那一点的极限存在，因而这个做法是错误的

#### 正解

本题类似于 [[连续函数用有理点逼近无理点#例 2 中学时代的 “递降” 方法]] ，考虑到 $2x$ 和 $x$ 这两个东西，并且我们希望得到 $f(0)$ 这一结果，于是进行如下操作：

从定义出发：$\forall \varepsilon>0,\exists \delta>0,\forall x\in O(0, \delta)$ 满足：
$$
\begin{align}
&A-\varepsilon<\frac{f(2x)-f(x)}{x}<A+\varepsilon \\
&A-\varepsilon<\frac{f(x)-f\left( \frac{x}{2} \right)}{\frac{x}{2}}<A+\varepsilon \iff \frac{A-\varepsilon}{2}<\frac{f(x)-f\left( \frac{x}{2} \right)}{x}< \frac{A+\varepsilon}{2} \\
&A-\varepsilon<\frac{f\left( \frac{x}{2} \right)-f\left( \frac{x}{2^2} \right)}{\frac{x}{2^2}}<A+\varepsilon \iff \frac{A-\varepsilon}{2^2}<\frac{f\left( \frac{x}{2} \right)-f\left( \frac{x}{2^2} \right)}{x}< \frac{A+\varepsilon}{2^2} \\
&\dots \\
&A-\varepsilon<\frac{f\left( \frac{x}{2^{n-1}} \right)-f\left( \frac{x}{2^{n}} \right)}{\frac{x}{2^{n}}}<A+\varepsilon \iff \frac{A-\varepsilon}{2^{n}}<\frac{f\left( \frac{x}{2^{n-1}} \right)-f\left( \frac{x}{2^{n}} \right)}{x}< \frac{A+\varepsilon}{2^{n}}
\end{align}
$$
把不等式对着加起来，左右两边等比数列求和，中间裂项相消，得到：
$$
\begin{align}
\text{左边}&=\frac{1-\frac{1}{2^{n+1}}}{1-\frac{1}{2}}(A-\varepsilon) \\
&=\left(\frac{1}{2}-\frac{1}{2^{n+2}}\right)(A-\varepsilon)
\end{align}
$$
右边同理，得到：
$$
\text{右边}=\left(\frac{1}{2}-\frac{1}{2^{n+2}}\right)(A+\varepsilon)
$$
中间为：
$$
\text{中间}=\frac{f(2x)-f\left( \frac{x}{2^n} \right)}{x}
$$
对三个 $n$ 同时取极限，得到：
$$
\frac{1}{2}(A-\varepsilon)<\frac{f(2x)-f(0)}{x}< \frac{1}{2}(A+\varepsilon)
$$
再次整理一下，得到：
$$
(A-\varepsilon)<\frac{f(2x)-f(0)}{2x}< (A+\varepsilon)
$$
这即是导数的定义，也即导数存在，且值为 A，证毕
