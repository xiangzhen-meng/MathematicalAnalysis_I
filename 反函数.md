# 反函数

## 反函数存在的充分必要条件

函数是双射（一一映射） $\iff$ 函数具有反函数

这是反函数的定义告诉我们的

## 连续性相关的性质

[[连续性#反函数的性质]]
严格单调连续函数，必有反函数也严格单调连续

另外的一个正确命题是：若存在反函数且连续，必然严格单调

自然而然地想到另外一个组合：若存在反函数且单调，必然连续吗？这显然是不对的，举一个分段单调递增的例子即可

## 导数相关性质

>[!note] 反函数可导
>若 $f(x)$ 在 $x=x_{0}$ 处可导，且 $f'(x)\neq 0$，且 $f(x)$ 在 $O(x_{0})$ 严格单调且连续，则必有：反函数 $\exists x=g(y)$ 且 $g(y)$ 在 $y_{0}=f(x_{0})$ 处可导，且$$g'(y_{0})=\frac{1}{f'(x_{0})}$$

### 理解

这也即说明斜率是对称的，也即 $k_{1}k_{2}=1$ ，直观上是显然的结论

另外，需要注意的是在某个邻域内连续的条件是必要的。由可导显然推出单点连续（关于单点连续，参看 [[黎曼函数 (Riemann Function)]] 相关解释），但是不能推出在单点附近的邻域连续，例子参看 [[连续性#函数的单点连续]] 

### 证明
$$
g'(y_{0})=\lim_{ y \to y_{0} } \frac{g(y)-g(y_{0})}{y-y_{0}} 
$$
令：$y=f(x),x=g(y)$ 得到：
$$
RHS=\lim_{ f(x) \to f(x_{0}) } \frac{x-x_{0}}{f(x)-f(x_{0})}
$$

断言：$f(x)\to f(x_{0}) \implies x\to x_{0}$ ，给出证明：

使用反证法，则有：$\exists \delta_{0}>0,x_n-x_{0}\geq \delta_{0}$

不妨令函数单调递增

一方面，先证明从右侧趋近的时候，也即 $x\to x_{0}^+$ 的时候成立。取出一系列的函数值序列 $f(x_n)$ 满足：
$$
\begin{align}
&f(x_{1})-f(x_{0})<1 \\
&f(x_{2})-f(x_{0})< \frac{1}{2} \\
&\vdots \\
&f(x_n)-f(x_{0})< \frac{1}{n} \\
& \vdots
\end{align}
$$
则显然有：
$$
\exists N,\forall n> N,f(x_{0})<f(x_n)<f(x_0)+ \frac{1}{n}
$$
另一方面，由单调性，必然有：
$$
f(x_{0})<f(x_{0}+\delta_{0})\leq f(x_n)<f(x_{0})+\frac{1}{n}$$
令 $n\to +\infty$ 则由夹逼准则，有：
$$
f(x_{0})\leq f(x_{0}+\delta_{0})\leq f(x_n)\leq f(x_{0})
$$
由单调性，脱去函数符号，有：
$$
x_{0}\leq x_{0}+\delta_{0}\leq x_n\leq x_{0}
$$
这即是说明 $\delta_{0}=0$ ，矛盾

同理，从左侧趋近的时候，也即 $x\to x_{0}^-$ 的时候也是对的

由此可知：
$$
\begin{align}
RHS&=\lim_{ x \to x_{0} } \frac{x-x_{0}}{f(x)-f(x_{0})} \\
&=\lim_{ x \to x_{0} } \frac{1}{\frac{x-x_{0}}{f(x)-f(x_{0})}} \\
&=\frac{1}{f'(x_{0})}
\end{align}
$$
证毕

### 例题

>[!note] 例题 1 基础运算
>求导数$$f(x)=\arcsin(\sqrt{ 1-x^2 })$$

这是一个复合函数求导，首先应该对外层函数求导，然后对内层函数求导
$$
\begin{align}
f'(x)&= \frac{1}{\cos(u)}(u)' \\
&=\frac{1}{\cos(\arcsin(\sqrt{ 1-x^2 }))}(\sqrt{ 1-x^2 })' \\
&=\frac{1}{\sqrt{ 1-\sin^2(\arcsin(\sqrt{ 1-x^2 })) }} \frac{2x}{2\sqrt{ 1-x^2 }} \\
&=\frac{1}{|x|} \frac{x}{\sqrt{ 1-x^2 }}
\end{align}
$$

这里要纠正一个错误认识：

>[!error] 对反函数的错误认识
>$$f'(u(x))=\frac{1}{(f^{-1}(u))'}u'(x)$$

这是完全错误的！！！！

其实把反函数写成隐函数求导的形式也就明了：
$$
y=f(u(x)) \implies u(x)=f^{-1}(y)
$$
两边同时对 x 求导，得到：
$$
u'(x)=(f^{-1})'y \cdot y'
$$
这时有：
$$
y'=\frac{u'(x)}{(f^{-1})'y }
$$
特殊要强调的是，这里的分母不能再用链式法则对 x 求导了，因为这时 $f^{-1}$ 函数自变量应该是 $y$，这是隐函数求导的要求



